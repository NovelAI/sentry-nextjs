{"version":3,"file":"metadataBuilder.js","sourceRoot":"","sources":["../../src/utils/metadataBuilder.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,WAAW,EAAE,MAAM,cAAc,CAAC;AAK3C,MAAM,CAAC,IAAM,QAAQ,GAAG,0BAA0B,CAAC;AACnD,MAAM,CAAC,IAAM,mBAAmB,GAAG,cAAc,CAAC;AAElD;;GAEG;AACH;IAIE,yBAAmB,OAAsB,EAAE,QAAkB;QAC3D,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;QACxB,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC;IAChC,CAAC;IAED,YAAY;IACL,wCAAc,GAArB;QACE,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,IAAI,EAAE,CAAC;QACxD,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;IACnD,CAAC;IAED,YAAY;IACJ,qCAAW,GAAnB;QACE,OAAO;YACL,IAAI,EAAE,QAAQ;YACd,OAAO,EAAE,WAAW;YACpB,QAAQ,EAAE,IAAI,CAAC,YAAY,EAAE;SAC9B,CAAC;IACJ,CAAC;IAED,YAAY;IACJ,sCAAY,GAApB;QACE,OAAO,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,UAAC,OAAe;YAC5C,OAAO;gBACL,IAAI,EAAE,mBAAmB,GAAG,OAAO;gBACnC,OAAO,EAAE,WAAW;aACrB,CAAC;QACJ,CAAC,CAAC,CAAC;IACL,CAAC;IACH,sBAAC;AAAD,CAAC,AAjCD,IAiCC","sourcesContent":["import { SDK_VERSION } from '@sentry/core';\r\nimport { Package, SdkInfo } from '@sentry/types';\r\n\r\nimport { NextjsOptions } from './nextjsOptions';\r\n\r\nexport const SDK_NAME = 'sentry.javascript.nextjs';\r\nexport const PACKAGE_NAME_PREFIX = 'npm:@sentry/';\r\n\r\n/**\r\n * A builder for the SDK metadata in the options for the SDK initialization.\r\n */\r\nexport class MetadataBuilder {\r\n  private _options: NextjsOptions;\r\n  private _packageNames: string[];\r\n\r\n  public constructor(options: NextjsOptions, packages: string[]) {\r\n    this._options = options;\r\n    this._packageNames = packages;\r\n  }\r\n\r\n  /** JSDoc */\r\n  public addSdkMetadata(): void {\r\n    this._options._metadata = this._options._metadata || {};\r\n    this._options._metadata.sdk = this._getSdkInfo();\r\n  }\r\n\r\n  /** JSDoc */\r\n  private _getSdkInfo(): SdkInfo {\r\n    return {\r\n      name: SDK_NAME,\r\n      version: SDK_VERSION,\r\n      packages: this._getPackages(),\r\n    };\r\n  }\r\n\r\n  /** JSDoc */\r\n  private _getPackages(): Package[] {\r\n    return this._packageNames.map((pkgName: string) => {\r\n      return {\r\n        name: PACKAGE_NAME_PREFIX + pkgName,\r\n        version: SDK_VERSION,\r\n      };\r\n    });\r\n  }\r\n}\r\n"]}